{
  "rules": {
     
    "organization": {
      ".read": "true",
      ".indexOn": ["brewId","domain"],
      "$orgId":{
        ".write": "auth.email_verified == true && (root.child('admin').child(auth.uid).exists() || root.child('organization').child($orgId).child('crowdSource').val()== true || root.child('organization').child($orgId).child('domain').val().contains(root.child('user').child(auth.uid).child('domain').val()))",
        "brewBeer": {
          "$orgBeerId": {
            "abv": {
              ".validate": "newData.isNumber()"
            },
            "category": {
              ".validate": "newData.isString() "
            },
            "categoryName": {
              ".validate": "newData.isString()"
            },
            "categoryType": {
              ".validate": "newData.isString()"
            },
            "description": {
              ".validate": "newData.isString() && newData.val().length >= 1 && !newData.val().matches(/shit/i) && !newData.val().matches(/fuck/i)"
            },
            "id": {
              ".validate": "newData.isString()"
            },
            "name": {
              ".validate": "newData.isString() && newData.val().length >= 1 && !newData.val().matches(/shit/i) && !newData.val().matches(/fuck/i)"
            },
            "order": {
              ".validate": "newData.isNumber()"
            },
            "styleId": {
              ".validate": "newData.isNumber()"
            },
            "styleName": {
              ".validate": "newData.isString()"
            }
          }
        },
          "category":{
            "REVIEW":{
              "display": {
                ".validate": "newData.val() === true"
              }
            },
            "CONTACT":{
              "display": {
                ".validate": "newData.val() === true"
              }
            }
          }
      }
    },
    "breweryDB": {
      ".read": "true",
      ".write": "true",
      ".indexOn": "addedToOrganization"
    },
    "category": {
      ".read": "true",
      ".write": "true"
      },
    "beerStyle": {
      ".read": "true",
      ".write": "true"
      },
    "beer": {
      ".read": "true",
      ".indexOn": ["styleId","category","place_id", "place","stateAndCategory"],
        "$beerId": {
      		".write": "auth.email_verified == true && (root.child('admin').child(auth.uid).exists() || root.child('organization').child(newData.child('place_id').val()).child('crowdSource').val()==true  || root.child('organization').child(root.child('beer').child($beerId).child('place_id').val()).child('crowdSource').val()==true || root.child('organization').child(newData.child('place_id').val()).child('domain').val().contains(root.child('user').child(auth.uid).child('domain').val()) || root.child('organization').child(root.child('beer').child($beerId).child('place_id').val()).child('domain').val().contains(root.child('user').child(auth.uid).child('domain').val()))"
        }
      
      },
    "onTap": {
      ".read": "true",
      ".write": "true",
      ".indexOn": "place_id"
    },
     "rating": {
    ".read": "true",
    ".write": "true"
    },
    "favorite": {
    ".read": "true",
    ".write": "true"
    },
    "GeoFire": {
      ".read": "true",
      ".write": "true",
      ".indexOn": "g"
    },
    "user": {
        "$uid":{
          ".read": "$uid==auth.uid",
     		  ".write": "$uid==auth.uid"
        }
    },
    "breweryDbBeer": {
      ".read": "true",
      ".write": "true"
    }
  }
}