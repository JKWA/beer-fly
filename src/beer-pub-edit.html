

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-image/iron-image.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-input/paper-textarea.html">
<link rel="import" href="../bower_components/polymerfire/firebase-document.html">
<link rel="import" href="../bower_components/polymerfire/firebase-query.html">

<link rel="import" href="../my_components/data/upload-image.html">
<link rel="import" href="beer-pub-category.html">

<dom-module id="beer-pub-edit">

  <template strip-whitespace>
    
    <style include="paper-material-styles">
      

      .item {
        display: block;
        text-decoration: none;
        text-align: center;
        margin-bottom: 40px;
      }


      @media (max-width: 767px) {
      

        h2 {
          margin: 24px 0;
        }

      }

    </style>

    <firebase-document 
        id="organization"
        app-name="beer" 
        path="organization/[[orgId]]"
        data="{{organization}}">
    </firebase-document>

     <h3>Tags</h3>
        <div>
          <paper-checkbox checked="{{organization.dogFriendly}}">Dogs allowed</paper-checkbox>&nbsp
          <paper-checkbox checked="{{organization.patio}}">Outdoor patio</paper-checkbox>&nbsp
          <paper-checkbox checked="{{organization.over21}}">Must be 21</paper-checkbox>&nbsp
        </div>

        <h3>Show Categories</h3>

          <beer-pub-category
            org-id="[[orgId]]">
          </beer-pub-category>

        <h3>Upload Banner Image</h3>
        <upload-image org-id="[[orgId]]" type="banner" key="mainImage"></upload-image>
        
        <!--<iron-label>
          <paper-checkbox checked="{{organization.crowdSource}}"></paper-checkbox>
          <span>Allow crowd sourced data</span>
        </iron-label>-->

        <paper-input label="Motto" value="{{organization.motto}}" maxlength=100 char-counter></paper-input>
        <paper-textarea label="Description" value="{{organization.description}}" maxlength=2000 char-counter></paper-textarea>
        
       
       
        
      </template>

   

 
  

  <script>

    Polymer({

      is: 'beer-pub-edit',
      properties: {

        // categories: {
        //   type: Array,
        //   computed: '_computeCategories(organization)'
        // },

        //  allCategories:{
        //   type: Object,
        // },

        organization:{
          type: Object,
          // notify: true
        },

        orgId:{
          type: String
        }
        
      },


    //  _watchForNewOrganizationData: function (organization, category) {
    //   var category = this.allCategories;
    //   if(!organization.googleData){
    //     if(category.BEER){
    //       var key = Object.keys(category);
    //       for(var i=0; i<key.length;i++){
    //         this.categoryKey = key[i];
    //         if(key[i]){
    //           this.$.orgCategory.ref.child(key[i]).update(category[key[i]]);
    //         }
    //       }
    //     }
    //   }
    // },


    //   _computeCategories: function(organization) {
    //     var returnArray = [];
    //     if(organization){
    //       if(organization.category){
    //         var category = organization.category;
    //         var key = Object.keys(category);
    //         for (var i=0; i<key.length; i++){
    //             category[key[i]].$key = key[i];
    //             returnArray.push(category[key[i]])
    //         }
    //       }
    //     }
    //     return returnArray.sort(function(a, b) {
    //                               return parseFloat(a.order) - parseFloat(b.order);
    //                           });
    //   },


      _test: function(obj){
        console.log('TEST', obj);
      }

    });

  </script>

</dom-module>
